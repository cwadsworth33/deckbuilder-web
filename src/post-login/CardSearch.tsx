import React, { useState } from "react"
import { PokemonTCG } from "pokemon-tcg-sdk-typescript"
import { ICard, IQuery } from "pokemon-tcg-sdk-typescript/dist/sdk"
import { useForm } from "react-hook-form";
import { isSetAccessor } from "typescript";
import { classNameUtil } from "../utils";

export const CardSearch: React.FC = () => {

  const { register, handleSubmit, errors } = useForm<CardSearchForm>();
  const [cards, setCards] = useState<any[]>([{"id":"xy1-30","name":"M Blastoise-EX","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/xy1/30.png","imageUrlHiRes":"https://images.pokemontcg.io/xy1/30_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"MEGA","evolvesFrom":"Blastoise-EX","hp":"220","retreatCost":["Colorless","Colorless","Colorless"],"convertedRetreatCost":3,"number":"30","artist":"5ban Graphics","rarity":"Rare Holo EX","series":"XY","set":"XY","setCode":"xy1","text":["When a Pokémon-EX has been Knocked Out, your opponent takes 2 Prize cards.","When 1 of your Pokémon becomes a Mega Evolution Pokémon, your turn ends."],"attacks":[{"cost":["Water","Water","Water"],"name":"Hydro Bombard","text":"This attack does 30 damage to 2 of your opponent's Benched Pokémon. (Don't apply Weakness and Resistance for Benched Pokémon.)","damage":"120","convertedEnergyCost":3}],"weaknesses":[{"type":"Grass","value":"×2"}]},{"id":"hgss2-13","name":"Blastoise","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/hgss2/13.png","imageUrlHiRes":"https://images.pokemontcg.io/hgss2/13_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"Stage 2","evolvesFrom":"Wartortle","ability":{"name":"Wash Out","text":"As often as you like during your turn (before your attack), you may move a Water Energy attached to 1 of your Benched Pokémon to your Active Pokémon. This power can't be used if Blastoise is affected by a Special Condition.","type":"Poké-Power"},"hp":"130","retreatCost":["Colorless","Colorless","Colorless"],"convertedRetreatCost":3,"number":"13","artist":"Masakazu Fukuda","rarity":"Rare","series":"HeartGold & SoulSilver","set":"HS—Unleashed","setCode":"hgss2","attacks":[{"cost":["Water","Water","Colorless","Colorless"],"name":"Hydro Launcher","text":"Return 2 Water Energy attached to Blastoise to your hand. Choose 1 of your opponent's Pokémon. This attack does 100 damage to that Pokémon. (Don't apply Weakness and Resistance for Benched Pokémon.)","damage":"","convertedEnergyCost":4}],"weaknesses":[{"type":"Lightning","value":"×2"}]},{"id":"base5-3","name":"Dark Blastoise","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/base5/3.png","imageUrlHiRes":"https://images.pokemontcg.io/base5/3_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"Stage 2","evolvesFrom":"Wartortle","hp":"70","retreatCost":["Colorless","Colorless"],"convertedRetreatCost":2,"number":"3","artist":"Mitsuhiro Arita","rarity":"Rare","series":"Base","set":"Team Rocket","setCode":"base5","attacks":[{"cost":["Water","Water"],"name":"Hydrocannon","text":"Does 30 damage plus 20 more damage for each Water Energy attached to Dark Blastoise but not used to pay for this attack. You can't add more than 40 damage in this way.","damage":"30+","convertedEnergyCost":2},{"cost":["Water","Colorless","Colorless"],"name":"Rocket Tackle","text":"Dark Blastoise does 10 damage to itself. Flip a coin. If heads, prevent all damage done to Dark Blastoise during your opponent's next turn. (Any other effects of attacks still happen.)","damage":"40","convertedEnergyCost":3}],"weaknesses":[{"type":"Lightning","value":"×2"}]},{"id":"xy1-29","name":"Blastoise-EX","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/xy1/29.png","imageUrlHiRes":"https://images.pokemontcg.io/xy1/29_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"EX","hp":"180","retreatCost":["Colorless","Colorless","Colorless"],"convertedRetreatCost":3,"number":"29","artist":"Eske Yoshinob","rarity":"Rare Holo EX","series":"XY","set":"XY","setCode":"xy1","text":["When a Pokémon-EX has been Knocked Out, your opponent takes 2 Prize cards."],"attacks":[{"cost":["Colorless","Colorless"],"name":"Rapid Spin","text":"Switch this Pokémon with 1 of your Benched Pokémon. Then, your opponent switches his or her Active Pokémon with 1 of his or her Benched Pokémon.","damage":"30","convertedEnergyCost":2},{"cost":["Water","Water","Water"],"name":"Splash Bomb","text":"Flip a coin. If tails, this Pokémon does 30 damage to itself.","damage":"120","convertedEnergyCost":3}],"weaknesses":[{"type":"Grass","value":"×2"}]},{"id":"ex6-104","name":"Blastoise ex","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/ex6/104.png","imageUrlHiRes":"https://images.pokemontcg.io/ex6/104_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"EX","evolvesFrom":"Wartortle","ability":{"name":"Energy Rain","text":"As often as you like during your turn (before your attack), you may attach a Water Energy card from your hand to 1 of your Pokémon. Put 1 damage counter on that Pokémon. This power can't be used if Blastoise ex is affected by a Special Condition.","type":"Poké-Power"},"hp":"150","retreatCost":["Colorless","Colorless","Colorless"],"convertedRetreatCost":3,"number":"104","artist":"Hikaru Koike","rarity":"Rare Holo EX","series":"EX","set":"FireRed & LeafGreen","setCode":"ex6","attacks":[{"cost":["Water","Water","Water","Colorless"],"name":"Hyper Whirlpool","text":"Flip a coin until you get tails. For each heads, your opponent discards an Energy card attached to the Defending Pokémon.","damage":"80","convertedEnergyCost":4}],"weaknesses":[{"type":"Lightning","value":"×2"}]},{"id":"xy12-22","name":"M Blastoise-EX","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/xy12/22.png","imageUrlHiRes":"https://images.pokemontcg.io/xy12/22_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"MEGA","evolvesFrom":"Blastoise-EX","hp":"220","retreatCost":["Colorless","Colorless","Colorless"],"convertedRetreatCost":3,"number":"22","artist":"5ban Graphics","rarity":"Rare Holo EX","series":"XY","set":"Evolutions","setCode":"xy12","text":["When a Pokémon-EX has been Knocked Out, your opponent takes 2 Prize cards.","When 1 of your Pokémon becomes a Mega Evolution Pokémon, your turn ends."],"attacks":[{"cost":["Water","Water","Water"],"name":"Hydro Bombard","text":"This attack does 30 damage to 2 of your opponent's Benched Pokémon. (Don't apply Weakness and Resistance for Benched Pokémon.)","damage":"120","convertedEnergyCost":3}],"weaknesses":[{"type":"Grass","value":"×2"}]},{"id":"pl1-2","name":"Blastoise","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/pl1/2.png","imageUrlHiRes":"https://images.pokemontcg.io/pl1/2_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"Stage 2","evolvesFrom":"Wartortle","ability":{"name":"Dig Well","text":"Once during your turn (before your attack), you may look at the top 3 cards of your deck, choose as many Water Energy cards as you like, and attach them to your Pokémon in any way you like. Discard the other cards. This power can't be used if Blastoise is affected by a Special Condition.","type":"Poké-Power"},"hp":"130","retreatCost":["Colorless","Colorless"],"convertedRetreatCost":2,"number":"2","artist":"Kagemaru Himeno","rarity":"Rare Holo","series":"Platinum","set":"Platinum","setCode":"pl1","attacks":[{"cost":["Water","Colorless"],"name":"Aqua Press","text":"Does 20 damage plus 10 more damage for each Water Energy attached to all Pokémon (both yours and your opponent's).","damage":"20+","convertedEnergyCost":2},{"cost":["Water","Water","Colorless","Colorless"],"name":"Double Launcher","text":"Discard 2 Water Energy attached to Blastoise. Choose 2 of your opponent's Benched Pokémon. This attack does 60 damage to each of them. (Don't apply Weakness and Resistance for Benched Pokémon.) Blastoise can't use Double Launcher during your next turn.","damage":"","convertedEnergyCost":4}],"weaknesses":[{"type":"Lightning","value":"+30"}]},{"id":"sm10-35","name":"Blastoise-GX","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/sm10/35.png","imageUrlHiRes":"https://images.pokemontcg.io/sm10/35_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"GX","evolvesFrom":"Wartortle","ability":{"name":"Solid Shell","text":"This Pokémon takes 30 less damage from attacks (after applying Weakness and Resistance).","type":"Ability"},"hp":"240","retreatCost":["Colorless","Colorless","Colorless"],"convertedRetreatCost":3,"number":"35","artist":"sadaji","rarity":"Rare Holo GX","series":"Sun & Moon","set":"Unbroken Bonds","setCode":"sm10","text":["When your Pokémon-GX is Knocked Out, your opponent takes 2 Prize cards."],"attacks":[{"cost":["Water","Water"],"name":"Rocket Splash","text":"Shuffle any amount of Water Energy from your Pokémon into your deck. This attack does 60 damage for each card you shuffled into your deck in this way.","damage":"60×","convertedEnergyCost":2},{"cost":["Water"],"name":"Giant Geyser-GX","text":"Attach any number of Water Energy cards from your hand to your Pokémon in any way you like. (You can't use more than 1 GX attack in a game.)","damage":"","convertedEnergyCost":1}],"weaknesses":[{"type":"Grass","value":"×2"}]},{"id":"ecard1-4","name":"Blastoise","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/ecard1/4.png","imageUrlHiRes":"https://images.pokemontcg.io/ecard1/4_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"Stage 2","evolvesFrom":"Wartortle","ability":{"name":"Jet Stream","text":"Once during your turn (before you attack), if Blastoise is your Active Pokémon, you may flip a coin. If heads, discard an Energy card attached to Blastoise, if any. Then, if there are any Energy cards attached to the Defending Pokémon, choose one of them and discard it. This power can't be used if Blastoise is affected by a Special Condition.","type":"Poké-Power"},"hp":"100","retreatCost":["Colorless","Colorless"],"convertedRetreatCost":2,"number":"4","artist":"Kimiya Masago","rarity":"Rare","series":"E-Card","set":"Expedition Base Set","setCode":"ecard1","attacks":[{"cost":["Water","Water","Colorless"],"name":"Energy Cannon","text":"Does 40 damage plus 10 more damage for each Energy attached to Blastoise but not used to pay for this attack's Energy cost. You can't add more than 20 damage in this way.","damage":"40+","convertedEnergyCost":3}],"weaknesses":[{"type":"Lightning","value":"×2"}]},{"id":"xyp-XY122","name":"Blastoise-EX","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/xyp/XY122.png","imageUrlHiRes":"https://images.pokemontcg.io/xyp/XY122_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"EX","hp":"180","retreatCost":["Colorless","Colorless","Colorless"],"convertedRetreatCost":3,"number":"XY122","artist":"kawayoo","rarity":"Rare Holo EX","series":"XY","set":"XY Black Star Promos","setCode":"xyp","text":["When a Pokémon-EX has been Knocked Out, your opponent takes 2 Prize cards."],"attacks":[{"cost":["Colorless","Colorless"],"name":"Rapid Spin","text":"Switch this Pokémon with 1 of your Benched Pokémon. Then, your opponent switches his or her Active Pokémon with 1 of his or her Benched Pokémon.","damage":"30","convertedEnergyCost":2},{"cost":["Water","Water","Water"],"name":"Splash Bomb","text":"Flip a coin. If tails, this Pokémon does 30 damage to itself.","damage":"120","convertedEnergyCost":3}],"weaknesses":[{"type":"Grass","value":"×2"}]},{"id":"sm10-218","name":"Blastoise-GX","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/sm10/218.png","imageUrlHiRes":"https://images.pokemontcg.io/sm10/218_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"GX","evolvesFrom":"Wartortle","ability":{"name":"Solid Shell","text":"This Pokémon takes 30 less damage from attacks (after applying Weakness and Resistance).","type":"Ability"},"hp":"240","retreatCost":["Colorless","Colorless","Colorless"],"convertedRetreatCost":3,"number":"218","artist":"sadaji","rarity":"Rare Secret","series":"Sun & Moon","set":"Unbroken Bonds","setCode":"sm10","text":["When your Pokémon-GX is Knocked Out, your opponent takes 2 Prize cards."],"attacks":[{"cost":["Water","Water"],"name":"Rocket Splash","text":"Shuffle any amount of Water Energy from your Pokémon into your deck. This attack does 60 damage for each card you shuffled into your deck in this way.","damage":"60×","convertedEnergyCost":2},{"cost":["Water"],"name":"Giant Geyser-GX","text":"Attach any number of Water Energy cards from your hand to your Pokémon in any way you like. (You can't use more than 1 GX attack in a game.)","damage":"","convertedEnergyCost":1}],"weaknesses":[{"type":"Grass","value":"×2"}]},{"id":"bw8-137","name":"Blastoise","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/bw8/137.png","imageUrlHiRes":"https://images.pokemontcg.io/bw8/137_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"Stage 2","evolvesFrom":"Wartortle","ability":{"name":"Deluge","text":"As often as you like during your turn (before your attack), you may attach a Water Energy card from your hand to 1 of your Pokémon.","type":"Ability"},"hp":"140","retreatCost":["Colorless","Colorless","Colorless","Colorless"],"convertedRetreatCost":4,"number":"137","artist":"Ayaka Yoshida","rarity":"Rare Holo","series":"Black & White","set":"Plasma Storm","setCode":"bw8","attacks":[{"cost":["Colorless","Colorless","Colorless","Colorless"],"name":"Hydro Pump","text":"Does 10 more damage for each Water Energy attached to this Pokémon.","damage":"60+","convertedEnergyCost":4}],"weaknesses":[{"type":"Grass","value":"×2"}]},{"id":"base6-4","name":"Dark Blastoise","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/base6/4.png","imageUrlHiRes":"https://images.pokemontcg.io/base6/4_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"Stage 2","evolvesFrom":"Wartortle","hp":"70","retreatCost":["Colorless","Colorless"],"convertedRetreatCost":2,"number":"4","artist":"Mitsuhiro Arita","rarity":"Rare","series":"Base","set":"Legendary Collection","setCode":"base6","attacks":[{"cost":["Water","Water"],"name":"Hydrocannon","text":"Does 30 damage plus 20 more damage for each Water Energy attached to Dark Blastoise but not used to pay for this attack. You can't add more than 40 damage in this way.","damage":"30+","convertedEnergyCost":2},{"cost":["Water","Colorless","Colorless"],"name":"Rocket Tackle","text":"Dark Blastoise does 10 damage to itself. Flip a coin. If heads, prevent all damage done to Dark Blastoise during your opponent's next turn. (Any other effects of attacks still happen.)","damage":"40","convertedEnergyCost":3}],"weaknesses":[{"type":"Lightning","value":"×2"}]},{"id":"bw7-31","name":"Blastoise","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/bw7/31.png","imageUrlHiRes":"https://images.pokemontcg.io/bw7/31_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"Stage 2","evolvesFrom":"Wartortle","ability":{"name":"Deluge","text":"As often as you like during your turn (before your attack), you may attach a Water Energy card from your hand to 1 of your Pokémon.","type":"Ability"},"hp":"140","retreatCost":["Colorless","Colorless","Colorless","Colorless"],"convertedRetreatCost":4,"number":"31","artist":"Satoshi Shirai","rarity":"Rare Holo","series":"Black & White","set":"Boundaries Crossed","setCode":"bw7","attacks":[{"cost":["Colorless","Colorless","Colorless","Colorless"],"name":"Hydro Pump","text":"Does 10 more damage for each Water Energy attached to this Pokémon.","damage":"60+","convertedEnergyCost":4}],"weaknesses":[{"type":"Grass","value":"×2"}]},{"id":"ex14-2","name":"Blastoise δ","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/ex14/2.png","imageUrlHiRes":"https://images.pokemontcg.io/ex14/2_hires.png","types":["Fighting","Metal"],"supertype":"Pokémon","subtype":"Stage 2","evolvesFrom":"Wartortle","ability":{"name":"Shield Veil","text":"Each of your Active Pokémon has no Weakness.","type":"Poké-Body"},"hp":"110","retreatCost":["Colorless","Colorless","Colorless"],"convertedRetreatCost":3,"number":"2","artist":"Masakazu Fukuda","rarity":"Rare Holo","series":"EX","set":"Crystal Guardians","setCode":"ex14","text":["This Pokémon is both Fighting Metal type."],"attacks":[{"cost":["Fighting","Colorless"],"name":"Enraged Linear Attack","text":"Choose 1 of your opponent's Pokémon. This attack does 10 damage for each damage counter on Blastoise to that Pokémon. (Don't apply Weakness and Resistance for Benched Pokémon.)","damage":"","convertedEnergyCost":2},{"cost":["Metal","Colorless","Colorless"],"name":"Skull Bash","text":"","damage":"60","convertedEnergyCost":3}],"weaknesses":[{"type":"Lightning","value":"×2"}]},{"id":"ecard1-36","name":"Blastoise","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/ecard1/36.png","imageUrlHiRes":"https://images.pokemontcg.io/ecard1/36_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"Stage 2","evolvesFrom":"Wartortle","hp":"100","retreatCost":["Colorless","Colorless"],"convertedRetreatCost":2,"number":"36","artist":"Hiromichi Sugiyama","rarity":"Rare","series":"E-Card","set":"Expedition Base Set","setCode":"ecard1","attacks":[{"cost":["Water"],"name":"Bubble","text":"Flip a coin. If heads, the Defending Pokémon is now Paralyzed.","damage":"20","convertedEnergyCost":1},{"cost":["Colorless","Colorless","Colorless"],"name":"Double Cannon","text":"Flip 2 coins. This attack does 40 damage times the number of heads.","damage":"40×","convertedEnergyCost":3}],"weaknesses":[{"type":"Lightning","value":"×2"}]},{"id":"xy12-73","name":"Blastoise Spirit Link","imageUrl":"https://images.pokemontcg.io/xy12/73.png","imageUrlHiRes":"https://images.pokemontcg.io/xy12/73_hires.png","supertype":"Trainer","subtype":"Pokémon Tool","number":"73","artist":"5ban Graphics","rarity":"Uncommon","series":"XY","set":"Evolutions","setCode":"xy12","text":["Your turn does not end if the Pokémon this card is attached to becomes M Blastoise-EX."]},{"id":"pop3-1","name":"Blastoise","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/pop3/1.png","imageUrlHiRes":"https://images.pokemontcg.io/pop3/1_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"Stage 2","evolvesFrom":"Unown","hp":"120","retreatCost":["Colorless","Colorless"],"convertedRetreatCost":2,"number":"1","artist":"Mitsuhiro Arita","rarity":"Rare","series":"POP","set":"POP Series 3","setCode":"pop3","attacks":[{"cost":["Colorless","Colorless"],"name":"Smash Turn","text":"After your attack, you may switch Blastoise with 1 of your Benched Pokémon.","damage":"30","convertedEnergyCost":2},{"cost":["Water","Water","Colorless","Colorless"],"name":"Rocket Tackle","text":"Blastoise does 10 damage to itself. Flip a coin. If heads, prevent all damage done to Blastoise by attacks during your opponent's next turn.","damage":"60","convertedEnergyCost":4}],"weaknesses":[{"type":"Lightning","value":"×2"}]},{"id":"bw10-16","name":"Blastoise","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/bw10/16.png","imageUrlHiRes":"https://images.pokemontcg.io/bw10/16_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"Stage 2","evolvesFrom":"Wartortle","ability":{"name":"Deluge","text":"As often as you like during your turn (before your attack), you may attach a Water Energy card from your hand to 1 of your Pokémon.","type":"Ability"},"hp":"140","retreatCost":["Colorless","Colorless","Colorless","Colorless"],"convertedRetreatCost":4,"number":"16","artist":"Satoshi Shirai","rarity":"Rare Holo","series":"Black & White","set":"Plasma Blast","setCode":"bw10","attacks":[{"cost":["Colorless","Colorless","Colorless","Colorless"],"name":"Hydro Pump","text":"Does 10 more damage for each Water Energy attached to this Pokémon.","damage":"60+","convertedEnergyCost":4}],"weaknesses":[{"type":"Grass","value":"×2"}]},{"id":"dp3-2","name":"Blastoise","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/dp3/2.png","imageUrlHiRes":"https://images.pokemontcg.io/dp3/2_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"Stage 2","evolvesFrom":"Wartortle","ability":{"name":"Waterlog","text":"Once during your turn (before your attack), you may attach as many basic Water Energy cards from your hand to any of your Pokémon in any way you like. If you do, your turn ends. This power can't be used if Blastoise is affected by a Special Condition.","type":"Poké-Power"},"hp":"120","retreatCost":["Colorless","Colorless"],"convertedRetreatCost":2,"number":"2","artist":"Daisuke Ito","rarity":"Rare Holo","series":"Diamond & Pearl","set":"Secret Wonders","setCode":"dp3","attacks":[{"cost":["Water","Water","Colorless"],"name":"Hydro Pump","text":"Does 50 damage plus 20 more damage for each Water Energy attached to Blastoise but not used to pay for this attack's Energy cost. You can't add more than 40 damage in this way.","damage":"50+","convertedEnergyCost":3}],"weaknesses":[{"type":"Lightning","value":"+30"}]},{"id":"ex14-14","name":"Blastoise","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/ex14/14.png","imageUrlHiRes":"https://images.pokemontcg.io/ex14/14_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"Stage 2","evolvesFrom":"Wartortle","ability":{"name":"Water Pressure","text":"As long as Blastoise's remaining HP is 40 or less, Blastoise does 40 more damage to the Defending Pokémon (before applying Weakness and Resistance).","type":"Poké-Body"},"hp":"120","retreatCost":["Colorless","Colorless"],"convertedRetreatCost":2,"number":"14","artist":"Kouki Saitou","rarity":"Rare","series":"EX","set":"Crystal Guardians","setCode":"ex14","attacks":[{"cost":["Water","Colorless","Colorless"],"name":"Hydro Pump","text":"Does 50 damage plus 20 more damage for each Water Energy attached to Blastoise but not used to pay for this attack's Energy cost. You can't add more than 40 damage in this way.","damage":"50+","convertedEnergyCost":3}],"weaknesses":[{"type":"Lightning","value":"×2"}]},{"id":"base5-20","name":"Dark Blastoise","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/base5/20.png","imageUrlHiRes":"https://images.pokemontcg.io/base5/20_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"Stage 2","evolvesFrom":"Wartortle","hp":"70","retreatCost":["Colorless","Colorless"],"convertedRetreatCost":2,"number":"20","artist":"Mitsuhiro Arita","rarity":"Rare","series":"Base","set":"Team Rocket","setCode":"base5","attacks":[{"cost":["Water","Water"],"name":"Hydrocannon","text":"Does 30 damage plus 20 more damage for each Water Energy attached to Dark Blastoise but not used to pay for this attack. You can't add more than 40 damage in this way.","damage":"30+","convertedEnergyCost":2},{"cost":["Water","Colorless","Colorless"],"name":"Rocket Tackle","text":"Dark Blastoise does 10 damage to itself. Flip a coin. If heads, prevent all damage done to Dark Blastoise during your opponent's next turn. (Any other effects of attacks still happen.)","damage":"40","convertedEnergyCost":3}],"weaknesses":[{"type":"Lightning","value":"×2"}]},{"id":"base4-2","name":"Blastoise","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/base4/2.png","imageUrlHiRes":"https://images.pokemontcg.io/base4/2_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"Stage 2","evolvesFrom":"Wartortle","ability":{"name":"Rain Dance","text":"As often as you like during your turn (before your attack), you may attach 1 Water Energy Card to 1 of your Water Pokémon. (This doesn't use up your 1 Energy card attachment for the turn.) This power can't be used if Blastoise is Asleep, Confused, or Paralyzed.","type":"Pokémon Power"},"hp":"100","retreatCost":["Colorless","Colorless","Colorless"],"convertedRetreatCost":3,"number":"2","artist":"Ken Sugimori","rarity":"Rare","series":"Base","set":"Base Set 2","setCode":"base4","attacks":[{"cost":["Water","Water","Water"],"name":"Hydro Pump","text":"Does 40 damage plus 10 more damage for each Water Energy attached to Blastoise but not used to pay for this attack's Energy cost. You can't add more than 20 damage in this way.","damage":"40+","convertedEnergyCost":3}],"weaknesses":[{"type":"Lightning","value":"×2"}]},{"id":"sm9-25","name":"Blastoise","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/sm9/25.png","imageUrlHiRes":"https://images.pokemontcg.io/sm9/25_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"Stage 2","evolvesFrom":"Wartortle","ability":{"name":"Powerful Squall","text":"Once during your turn (before your attack), you may look at the top 6 cards of your deck and attach any number of Water Energy cards you find there to your Pokémon in any way you like. Shuffle the other cards back into your deck.","type":"Ability"},"hp":"160","retreatCost":["Colorless","Colorless","Colorless"],"convertedRetreatCost":3,"number":"25","artist":"Hitoshi Ariga","rarity":"Rare","series":"Sun & Moon","set":"Team Up","setCode":"sm9","attacks":[{"cost":["Water","Water","Water"],"name":"Hydro Tackle","text":"This Pokémon does 30 damage to itself.","damage":"150","convertedEnergyCost":3}],"weaknesses":[{"type":"Grass","value":"×2"}]},{"id":"sm12-38","name":"Blastoise & Piplup-GX","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/sm12/38.png","imageUrlHiRes":"https://images.pokemontcg.io/sm12/38_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"TAG TEAM","hp":"270","retreatCost":["Colorless","Colorless","Colorless"],"convertedRetreatCost":3,"number":"38","artist":"Mitsuhiro Arita","rarity":"Rare Holo GX","series":"Sun & Moon","set":"Cosmic Eclipse","setCode":"sm12","text":["When your TAG TEAM is knocked out, your opponent takes 3 Prize Cards."],"attacks":[{"cost":["Water","Water","Colorless"],"name":"Splash Maker","text":"You may attach up to 3 Water Energy cards from your hand to your Pokémon in any way you like. If you do, heal 50 damage from those Pokémon for each card you attached to them in this way.","damage":"150","convertedEnergyCost":3},{"cost":["Water","Water","Colorless"],"name":"Bubble Launcher-GX","text":"Your opponent's Active Pokémon is now Paralyzed. If this Pokémon has at least 3 extra Water Energy attached to it (in addition to this attack's cost), this attack does 150 more damage. (You can't use more than 1 GX attack in a game.)","damage":"100+","convertedEnergyCost":3}],"weaknesses":[{"type":"Grass","value":"×2"}]},{"id":"xy12-21","name":"Blastoise-EX","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/xy12/21.png","imageUrlHiRes":"https://images.pokemontcg.io/xy12/21_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"EX","hp":"180","retreatCost":["Colorless","Colorless","Colorless"],"convertedRetreatCost":3,"number":"21","artist":"Eske Yoshinob","rarity":"Rare Holo EX","series":"XY","set":"Evolutions","setCode":"xy12","text":["When a Pokémon-EX has been Knocked Out, your opponent takes 2 Prize cards."],"attacks":[{"cost":["Colorless","Colorless"],"name":"Rapid Spin","text":"Switch this Pokémon with 1 of your Benched Pokémon. Then, your opponent switches his or her Active Pokémon with 1 of his or her Benched Pokémon.","damage":"30","convertedEnergyCost":2},{"cost":["Water","Water","Water"],"name":"Splash Bomb","text":"Flip a coin. If tails, this Pokémon does 30 damage to itself.","damage":"120","convertedEnergyCost":3}],"weaknesses":[{"type":"Grass","value":"×2"}]},{"id":"sm12-214","name":"Blastoise & Piplup-GX","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/sm12/214.png","imageUrlHiRes":"https://images.pokemontcg.io/sm12/214_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"TAG TEAM","hp":"270","retreatCost":["Colorless","Colorless","Colorless"],"convertedRetreatCost":3,"number":"214","artist":"5ban Graphics","rarity":"Rare Ultra","series":"Sun & Moon","set":"Cosmic Eclipse","setCode":"sm12","text":["When your TAG TEAM is knocked out, your opponent takes 3 Prize Cards."],"attacks":[{"cost":["Water","Water","Colorless"],"name":"Splash Maker","text":"You may attach up to 3 Water Energy cards from your hand to your Pokémon in any way you like. If you do, heal 50 damage from those Pokémon for each card you attached to them in this way.","damage":"150","convertedEnergyCost":3},{"cost":["Water","Water","Colorless"],"name":"Bubble Launcher-GX","text":"Your opponent's Active Pokémon is now Paralyzed. If this Pokémon has at least 3 extra Water Energy attached to it (in addition to this attack's cost), this attack does 150 more damage. (You can't use more than 1 GX attack in a game.)","damage":"100+","convertedEnergyCost":3}],"weaknesses":[{"type":"Grass","value":"×2"}]},{"id":"sm12-215","name":"Blastoise & Piplup-GX","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/sm12/215.png","imageUrlHiRes":"https://images.pokemontcg.io/sm12/215_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"TAG TEAM","hp":"270","retreatCost":["Colorless","Colorless","Colorless"],"convertedRetreatCost":3,"number":"215","artist":"Akira Komayama","rarity":"Rare Ultra","series":"Sun & Moon","set":"Cosmic Eclipse","setCode":"sm12","text":["When your TAG TEAM is knocked out, your opponent takes 3 Prize Cards."],"attacks":[{"cost":["Water","Water","Colorless"],"name":"Splash Maker","text":"You may attach up to 3 Water Energy cards from your hand to your Pokémon in any way you like. If you do, heal 50 damage from those Pokémon for each card you attached to them in this way.","damage":"150","convertedEnergyCost":3},{"cost":["Water","Water","Colorless"],"name":"Bubble Launcher-GX","text":"Your opponent's Active Pokémon is now Paralyzed. If this Pokémon has at least 3 extra Water Energy attached to it (in addition to this attack's cost), this attack does 150 more damage. (You can't use more than 1 GX attack in a game.)","damage":"100+","convertedEnergyCost":3}],"weaknesses":[{"type":"Grass","value":"×2"}]},{"id":"ecard1-37","name":"Blastoise","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/ecard1/37.png","imageUrlHiRes":"https://images.pokemontcg.io/ecard1/37_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"Stage 2","ability":{"name":"Jet Stream","text":"Once during your turn (before you attack), if Blastoise is your Active Pokémon, you may flip a coin. If heads, discard an Energy card attached to Blastoise, if any. Then, if there are any Energy cards attached to the Defending Pokémon, choose one of them and discard it. This power can't be used if Blastoise is affected by a Special Condition.","type":"Poké-Power"},"hp":"100","retreatCost":["Colorless","Colorless"],"convertedRetreatCost":2,"number":"37","artist":"Kimiya Masago","rarity":"Rare","series":"E-Card","set":"Expedition Base Set","setCode":"ecard1","attacks":[{"cost":["Water","Water","Colorless"],"name":"Energy Cannon","text":"Does 40 damage plus 10 more damage for each Energy attached to Blastoise but not used to pay for this attack's Energy cost. You can't add more than 20 damage in this way.","damage":"40+","convertedEnergyCost":3}],"weaknesses":[{"type":"Lightning","value":"×2"}]},{"id":"xy12-102","name":"M Blastoise-EX","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/xy12/102.png","imageUrlHiRes":"https://images.pokemontcg.io/xy12/102_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"MEGA","evolvesFrom":"Blastoise-EX","hp":"220","retreatCost":["Colorless","Colorless","Colorless"],"convertedRetreatCost":3,"number":"102","artist":"5ban Graphics","rarity":"Rare Ultra","series":"XY","set":"Evolutions","setCode":"xy12","text":["When a Pokémon-EX has been Knocked Out, your opponent takes 2 Prize cards.","When 1 of your Pokémon becomes a Mega Evolution Pokémon, your turn ends."],"attacks":[{"cost":["Water","Water","Water"],"name":"Hydro Bombard","text":"This attack does 30 damage to 2 of your opponent's Benched Pokémon. (Don't apply Weakness and Resistance for Benched Pokémon.)","damage":"120","convertedEnergyCost":3}],"weaknesses":[{"type":"Grass","value":"×2"}]},{"id":"xyp-XY30","name":"Blastoise-EX","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/xyp/XY30.png","imageUrlHiRes":"https://images.pokemontcg.io/xyp/XY30_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"EX","hp":"180","retreatCost":["Colorless","Colorless","Colorless"],"convertedRetreatCost":3,"number":"XY30","artist":"Eske Yoshinob","rarity":"Rare Holo EX","series":"XY","set":"XY Black Star Promos","setCode":"xyp","text":["When a Pokémon-EX has been Knocked Out, your opponent takes 2 Prize cards."],"attacks":[{"cost":["Colorless","Colorless"],"name":"Rapid Spin","text":"Switch this Pokémon with 1 of your Benched Pokémon. Then, your opponent switches his or her Active Pokémon with 1 of his or her Benched Pokémon.","damage":"30","convertedEnergyCost":2},{"cost":["Water","Water","Water"],"name":"Splash Bomb","text":"Flip a coin. If tails, this Pokémon does 30 damage to itself.","damage":"120","convertedEnergyCost":3}],"weaknesses":[{"type":"Grass","value":"×2"}]},{"id":"xy1-142","name":"Blastoise-EX","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/xy1/142.png","imageUrlHiRes":"https://images.pokemontcg.io/xy1/142_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"EX","hp":"180","retreatCost":["Colorless","Colorless","Colorless"],"convertedRetreatCost":3,"number":"142","artist":"Ryo Ueda","rarity":"Rare Ultra","series":"XY","set":"XY","setCode":"xy1","text":["When a Pokémon-EX has been Knocked Out, your opponent takes 2 Prize cards."],"attacks":[{"cost":["Colorless","Colorless"],"name":"Rapid Spin","text":"Switch this Pokémon with 1 of your Benched Pokémon. Then, your opponent switches his or her Active Pokémon with 1 of his or her Benched Pokémon.","damage":"30","convertedEnergyCost":2},{"cost":["Water","Water","Water"],"name":"Splash Bomb","text":"Flip a coin. If tails, this Pokémon does 30 damage to itself.","damage":"120","convertedEnergyCost":3}],"weaknesses":[{"type":"Grass","value":"×2"}]},{"id":"g1-17","name":"Blastoise-EX","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/g1/17.png","imageUrlHiRes":"https://images.pokemontcg.io/g1/17_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"EX","hp":"180","retreatCost":["Colorless","Colorless","Colorless"],"convertedRetreatCost":3,"number":"17","artist":"Eske Yoshinob","rarity":"Rare Holo EX","series":"XY","set":"Generations","setCode":"g1","text":["When a Pokémon-EX has been Knocked Out, your opponent takes 2 Prize cards."],"attacks":[{"cost":["Water","Colorless","Colorless"],"name":"Hyper Whirlpool","text":"Flip a coin. If heads, discard an Energy attached to your opponent's Active Pokémon.","damage":"60","convertedEnergyCost":3},{"cost":["Water","Water","Colorless","Colorless"],"name":"Hydro Press","text":"This attack does 20 damage to 1 of your opponent's Benched Pokémon. (Don't apply Weakness and Resistance for Benched Pokémon.)","damage":"100","convertedEnergyCost":4}],"weaknesses":[{"type":"Grass","value":"×2"}]},{"id":"g1-18","name":"M Blastoise-EX","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/g1/18.png","imageUrlHiRes":"https://images.pokemontcg.io/g1/18_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"MEGA","evolvesFrom":"Blastoise-EX","hp":"220","retreatCost":["Colorless","Colorless","Colorless"],"convertedRetreatCost":3,"number":"18","artist":"5ban Graphics","rarity":"Rare Holo EX","series":"XY","set":"Generations","setCode":"g1","text":["When a Pokémon-EX has been Knocked Out, your opponent takes 2 Prize cards.","When 1 of your Pokémon becomes a Mega Evolution Pokémon, your turn ends."],"attacks":[{"cost":["Water","Water","Colorless","Colorless"],"name":"Dread Launcher","text":"Flip a coin. If tails, discard 2 Water Energy attached to this Pokémon.","damage":"180","convertedEnergyCost":4}],"weaknesses":[{"type":"Grass","value":"×2"}]},{"id":"base1-2","name":"Blastoise","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/base1/2.png","imageUrlHiRes":"https://images.pokemontcg.io/base1/2_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"Stage 2","evolvesFrom":"Wartortle","ability":{"name":"Rain Dance","text":"As often as you like during your turn (before your attack), you may attach 1 Water Energy Card to 1 of your Water Pokémon. (This doesn't use up your 1 Energy card attachment for the turn.) This power can't be used if Blastoise is Asleep, Confused, or Paralyzed.","type":"Pokémon Power"},"hp":"100","retreatCost":["Colorless","Colorless","Colorless"],"convertedRetreatCost":3,"number":"2","artist":"Ken Sugimori","rarity":"Rare","series":"Base","set":"Base","setCode":"base1","attacks":[{"cost":["Water","Water","Water"],"name":"Hydro Pump","text":"Does 40 damage plus 10 more damage for each Water energy attached to Blastoise but not used to pay for this attack's Energy cost. Extra Water Energy after the 2nd doesn't count.","damage":"40+","convertedEnergyCost":3}],"weaknesses":[{"type":"Lightning","value":"×2"}]},{"id":"sm12-253","name":"Blastoise & Piplup-GX","nationalPokedexNumber":9,"imageUrl":"https://images.pokemontcg.io/sm12/253.png","imageUrlHiRes":"https://images.pokemontcg.io/sm12/253_hires.png","types":["Water"],"supertype":"Pokémon","subtype":"TAG TEAM","hp":"270","retreatCost":["Colorless","Colorless","Colorless"],"convertedRetreatCost":3,"number":"253","rarity":"Rare Secret","series":"Sun & Moon","set":"Cosmic Eclipse","setCode":"sm12","attacks":[{"cost":["Water","Water","Colorless"],"name":"Splash Maker","text":"You may attach up to 3 {W} Energy cards from your hand to your Pokémon in any way you like. If you do, heal 50 damage from those Pokémon for each card you attached to them in this way.","damage":"150","convertedEnergyCost":3},{"cost":["Water","Water","Colorless"],"name":"Bubble Launcher GX","text":"Your opponent's Active Pokémon is now Paralyzed. If this Pokémon has at least 3 extra {W} Energy attached to it (in addition to this attack's cost), this attack does 150 more damage. (You can't use more than 1 GX attack in a game.)","damage":"100+","convertedEnergyCost":3}],"weaknesses":[{"type":"Grass","value":"×2"}]}]);
  const [selectedCards, setSelectedCards] = useState<{[key: string]: boolean}>({});

  const onSubmit = (val: CardSearchForm) => {
    const query: IQuery[] = [{name: 'name', value: val.name}];
    PokemonTCG.Card.where(query).then(res => {
      setCards(res);
      console.log(res);
    });
  };

  const toggleSelectCard = (id: string) => setSelectedCards({...selectedCards, [id]: !selectedCards[id]});

  console.log(errors);

  return (
    <div className="bg-blue-100 h-screen text-white-100 p-4 flex flex-col">
      <h1 className="text-center">Card Search</h1>
      <form onSubmit={handleSubmit(onSubmit)}>
        <label className="block">Card Name:</label>
        <input type="text" className="max-w-sm mb-4 mt-2 mr-4" name="name" ref={register({ required: true })} />
        <button className={classNameUtil("btn btn-primary mb-2", {disabled: errors})} type="submit">Search</button>
      </form>
      <div className="flex-grow overflow-y-auto">
        {cards.map(card => {
          const isSelected = selectedCards[card.id];
          const imageClasses = classNameUtil("border-4 rounded inline-block p-3 m-1", { 
            "border-transparent": !isSelected, 
            "border-blue-electric": isSelected });
          return (
            <div key={card.id} className={imageClasses}>
              <img src={card.imageUrl} onClick={() => toggleSelectCard(card.id)} className="cursor-pointer" style={{ maxWidth: 245 }} />
            </div>
          )
        })}
      </div>
      <div className="flex p-4">
        <div className="flex-grow"></div>
        <button className={classNameUtil("btn btn-primary", {
          disabled: !Object.values(selectedCards).some((isSelected => isSelected))
        })}>Add Selected Cards</button>
      </div>
    </div>
  )
}

type CardSearchForm = {
  name: string
}